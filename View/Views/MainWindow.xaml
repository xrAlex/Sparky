<Window x:Class="View.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:views="clr-namespace:View.Views"
        xmlns:ext="clr-namespace:View.Extension"
        mc:Ignorable="d"
        ResizeMode="NoResize"
        Title="Sparky" 
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        Topmost="True"
        Background="Transparent" 
        DataContext ="{Binding MainWindowViewModel, Source={StaticResource Locator}, Mode=OneWay}"
        Height="330" Width="440">
    <Border 
        CornerRadius="10" 
        Background="{StaticResource LightBlack}" 
        BorderThickness="0">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="8*"/>
                <RowDefinition Height="57*"/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="86*"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <Border 
                Grid.Column="1" Grid.Row="1"
                CornerRadius="5"
                Background="White">
                <Button
                    Style="{StaticResource RotaryButton}" 
                    VerticalAlignment="Bottom" HorizontalAlignment="Right"
                    Margin="0,0,10,10"
                    Command="{Binding StopObserver, Mode=OneWay}"
                    Click="{ext:ShowWindow}"
                    CommandParameter="{x:Type views:SettingsWindowView}" Cursor="Hand">
                    <Image 
                        Width="46" Height="46" 
                        Source="{DynamicResource Settings}" 
                        HorizontalAlignment="Left" VerticalAlignment="Top"/>
                </Button>
            </Border>
            <StackPanel 
                Grid.Column="1"
                HorizontalAlignment="Right"
                Width="95" 
                FlowDirection="RightToLeft"
                Orientation="Horizontal">
                <Button
                    Style="{StaticResource ButtonAnimatedBackground}"
                    Background="{StaticResource TDeepGray}"
                    Click="{ext:AppShutdown}"
                    Width="30" Height="30" Cursor="Hand">
                    <Image
                        Width="20" Height="20"
                        Source="{StaticResource TurnOff}" >
                    </Image>
                </Button>
                <Button
                    Style="{StaticResource ButtonAnimatedBackground}"
                    Background="{StaticResource TDeepGray}"
                    Click="{ext:ToTray}"
                    Command ="{Binding UnsubscribeEvents, Mode=OneWay}"
                    Width="30" Height="30" Cursor="Hand">
                    <Image
                        Width="20" Height="20"
                        Source="{StaticResource ToTray}" >
                    </Image>
                </Button>
            </StackPanel>
        </Grid>
    </Border>
</Window>
